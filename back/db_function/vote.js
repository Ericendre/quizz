
const express = require("express");
const bodyParser = require("body-parser");
const router = express.Router();
const sqlite3 = require('sqlite3').verbose();

const db = new sqlite3.Database('./db/quizz');

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////// Votes /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

// All votes //
function all(req, res) {
  db.all( "SELECT * FROM votes", (err, rows) => {
    res.json(rows);
  });
}

// Vote create //
function add(req, res) {
  db.all( "INSERT INTO votes (user_id, quizz_id, vote)", [req.params.id], (err, rows) => {
    res.json(rows);
  });
}

module.exports = {all, add};
